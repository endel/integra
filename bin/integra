#!/usr/bin/env ruby
require 'optparse'

$: << './lib'
require 'integra'

config_file = File.expand_path('.integra')
if File.exists?(config_file)
  puts open(config_file).read
end

options = {:command => ARGV.shift || :run }
OptionParser.new do |opts|
  opts.banner = "Usage: integra [options]"

  opts.on("-l", "--lang", "Specify gherkin language") do |v|
    options[:lang] = v
  end
end.parse!

Integra.command!(options)
